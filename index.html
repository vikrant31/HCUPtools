<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access and Work with HCUP Resources and Datasets • HCUPtools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Inter-0.4.10/font.css" rel="stylesheet">
<link href="deps/Fira_Code-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Access and Work with HCUP Resources and Datasets">
<meta name="description" content="A comprehensive R package for accessing and working with publicly available and free resources from the Agency for Healthcare Research and Quality (AHRQ) Healthcare Cost and Utilization Project (HCUP). The package provides streamlined access to HCUP's Clinical Classifications Software Refined (CCSR) mapping files and Summary Trend Tables, enabling researchers and analysts to efficiently map ICD-10-CM diagnosis codes and ICD-10-PCS procedure codes to CCSR categories and access HCUP statistical reports. Key features include: direct download from HCUP website, multiple output formats (long/wide/default), cross-classification support, version management, citation generation, and intelligent caching. The package does not redistribute HCUP data files but facilitates direct download from the official HCUP website, ensuring users always have access to the latest versions and maintain compliance with HCUP data use policies. This package only accesses free public tools and reports; it does NOT access HCUP databases (NIS, KID, SID, NEDS, etc.) that require purchase. For more information, see &lt;https://hcup-us.ahrq.gov/&gt;.">
<meta property="og:description" content="A comprehensive R package for accessing and working with publicly available and free resources from the Agency for Healthcare Research and Quality (AHRQ) Healthcare Cost and Utilization Project (HCUP). The package provides streamlined access to HCUP's Clinical Classifications Software Refined (CCSR) mapping files and Summary Trend Tables, enabling researchers and analysts to efficiently map ICD-10-CM diagnosis codes and ICD-10-PCS procedure codes to CCSR categories and access HCUP statistical reports. Key features include: direct download from HCUP website, multiple output formats (long/wide/default), cross-classification support, version management, citation generation, and intelligent caching. The package does not redistribute HCUP data files but facilitates direct download from the official HCUP website, ensuring users always have access to the latest versions and maintain compliance with HCUP data use policies. This package only accesses free public tools and reports; it does NOT access HCUP databases (NIS, KID, SID, NEDS, etc.) that require purchase. For more information, see &lt;https://hcup-us.ahrq.gov/&gt;.">
<meta property="og:image" content="https://vikrant31.github.io/HCUPtools/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">HCUPtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/HCUPtools.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="hcuptools-access-and-work-with-hcup-resources">HCUPtools: Access and Work with HCUP Resources<a class="anchor" aria-label="anchor" href="#hcuptools-access-and-work-with-hcup-resources"></a>
</h1>
</div>
<p><a href="https://CRAN.R-project.org/package=HCUPtools" class="external-link"><img src="https://www.r-pkg.org/badges/version/HCUPtools" alt="CRAN status"></a> <a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p><strong>HCUPtools</strong> is a comprehensive R package for accessing and working with publicly available resources from the <strong>Agency for Healthcare Research and Quality (AHRQ) Healthcare Cost and Utilization Project (HCUP)</strong>. The package provides streamlined access to HCUP’s Clinical Classifications Software Refined (CCSR) mapping files and Summary Trend Tables, enabling researchers and analysts to efficiently map ICD-10 codes to CCSR categories and access HCUP statistical reports.</p>
<p><strong>Important Disclaimer:</strong> This package is an independent, non-commercial tool developed by a third party. It is <strong>not affiliated with, endorsed by, or supported by AHRQ or HCUP</strong> in any way. This package is not an official AHRQ or HCUP product.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>HCUPtools</code> facilitates access to <strong>free, publicly available</strong> HCUP resources, including:</p>
<ul>
<li>
<strong>CCSR Mapping Files</strong>: Clinical Classifications Software Refined (CCSR) for ICD-10-CM diagnosis codes and ICD-10-PCS procedure codes</li>
<li>
<strong>HCUP Summary Trend Tables</strong>: Aggregated statistical reports on hospital utilization trends</li>
</ul>
<p>The package does <strong>not</strong> redistribute HCUP data files but facilitates direct download from the official AHRQ HCUP website, ensuring users always have access to the latest versions and maintain compliance with HCUP data use policies.</p>
<div class="section level3">
<h3 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<ul>
<li>
<strong>Direct Download</strong>: Automatically download CCSR mapping files and Summary Trend Tables from HCUP</li>
<li>
<strong>ICD-10 Mapping</strong>: Map ICD-10-CM diagnosis codes and ICD-10-PCS procedure codes to CCSR categories</li>
<li>
<strong>Multiple Formats</strong>: Support for long, wide, and default-only output formats</li>
<li>
<strong>Cross-Classification</strong>: Handle one-to-many mappings (multiple CCSR categories per ICD-10 code)</li>
<li>
<strong>Version Management</strong>: Access multiple CCSR versions and change logs</li>
<li>
<strong>Citation Generation</strong>: Automatically generate proper AHRQ/HCUP citations</li>
<li>
<strong>File Reading</strong>: Read downloaded files from disk (ZIP, CSV, Excel, or directories)</li>
<li>
<strong>Caching</strong>: Intelligent caching to avoid redundant downloads</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"HCUPtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vikrant31/HCUPtools" class="external-link">HCUPtools</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="basic-workflow">Basic Workflow<a class="anchor" aria-label="anchor" href="#basic-workflow"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Download the latest diagnosis CCSR mapping file</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ccsr.html">download_ccsr</a></span><span class="op">(</span><span class="st">"diagnosis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Create sample patient data with ICD-10 codes</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  patient_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>  admission_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024-01-15"</span>, <span class="st">"2024-02-20"</span>, <span class="st">"2024-03-10"</span>, </span>
<span>                              <span class="st">"2024-04-05"</span>, <span class="st">"2024-05-12"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  icd10_code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"E11.9"</span>, <span class="st">"I10"</span>, <span class="st">"M79.3"</span>, <span class="st">"E78.5"</span>, <span class="st">"K21.9"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Map ICD-10 codes to CCSR categories</span></span>
<span><span class="va">mapped_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_map.html">ccsr_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_data</span>,</span>
<span>  code_col <span class="op">=</span> <span class="st">"icd10_code"</span>,</span>
<span>  map_df <span class="op">=</span> <span class="va">dx_map</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Get CCSR category descriptions</span></span>
<span><span class="va">descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_ccsr_description.html">get_ccsr_description</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADM010"</span>, <span class="st">"NEP003"</span>, <span class="st">"CIR019"</span><span class="op">)</span>, </span>
<span>  map_df <span class="op">=</span> <span class="va">dx_map</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. Generate proper citation</span></span>
<span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="comprehensive-usage-examples">Comprehensive Usage Examples<a class="anchor" aria-label="anchor" href="#comprehensive-usage-examples"></a>
</h2>
<div class="section level3">
<h3 id="id_1-downloading-ccsr-mapping-files">1. Downloading CCSR Mapping Files<a class="anchor" aria-label="anchor" href="#id_1-downloading-ccsr-mapping-files"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download latest version (recommended)</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ccsr.html">download_ccsr</a></span><span class="op">(</span><span class="st">"diagnosis"</span><span class="op">)</span></span>
<span><span class="va">pr_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ccsr.html">download_ccsr</a></span><span class="op">(</span><span class="st">"procedure"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download specific version</span></span>
<span><span class="va">dx_map_v2025</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ccsr.html">download_ccsr</a></span><span class="op">(</span><span class="st">"diagnosis"</span>, version <span class="op">=</span> <span class="st">"v2025.1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List all available versions</span></span>
<span><span class="va">all_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/list_ccsr_versions.html">list_ccsr_versions</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">all_versions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List versions for specific type</span></span>
<span><span class="va">dx_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/list_ccsr_versions.html">list_ccsr_versions</a></span><span class="op">(</span><span class="st">"diagnosis"</span><span class="op">)</span></span>
<span><span class="va">pr_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/list_ccsr_versions.html">list_ccsr_versions</a></span><span class="op">(</span><span class="st">"procedure"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-mapping-icd-10-codes-to-ccsr-categories">2. Mapping ICD-10 Codes to CCSR Categories<a class="anchor" aria-label="anchor" href="#id_2-mapping-icd-10-codes-to-ccsr-categories"></a>
</h3>
<p>The <code><a href="reference/ccsr_map.html">ccsr_map()</a></code> function supports three output formats to accommodate different analytical needs:</p>
<div class="section level4">
<h4 id="long-format-default">Long Format (Default)<a class="anchor" aria-label="anchor" href="#long-format-default"></a>
</h4>
<p>Best for cross-classification analysis where you need to count all assigned CCSR categories:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Long format - duplicates records for each CCSR category</span></span>
<span><span class="va">mapped_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_map.html">ccsr_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_data</span>,</span>
<span>  code_col <span class="op">=</span> <span class="st">"icd10_code"</span>,</span>
<span>  map_df <span class="op">=</span> <span class="va">dx_map</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"long"</span>  <span class="co"># default</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Result: One row per ICD-10 code per CCSR category</span></span>
<span><span class="co"># Useful for: Counting occurrences of each CCSR category</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="wide-format">Wide Format<a class="anchor" aria-label="anchor" href="#wide-format"></a>
</h4>
<p>Best for patient-level analysis where you want all categories in one row:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Wide format - multiple CCSR columns</span></span>
<span><span class="va">mapped_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_map.html">ccsr_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_data</span>,</span>
<span>  code_col <span class="op">=</span> <span class="st">"icd10_code"</span>,</span>
<span>  map_df <span class="op">=</span> <span class="va">dx_map</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"wide"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Result: One row per ICD-10 code with columns CCSR_1, CCSR_2, etc.</span></span>
<span><span class="co"># Useful for: Patient-level analysis, keeping all categories together</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="default-category-only">Default Category Only<a class="anchor" aria-label="anchor" href="#default-category-only"></a>
</h4>
<p>Best for principal diagnosis analysis:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default category only (diagnosis codes only)</span></span>
<span><span class="va">mapped_default</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_map.html">ccsr_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sample_data</span>,</span>
<span>  code_col <span class="op">=</span> <span class="st">"icd10_code"</span>,</span>
<span>  map_df <span class="op">=</span> <span class="va">dx_map</span>,</span>
<span>  default_only <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Result: One row per ICD-10 code with only the default CCSR category</span></span>
<span><span class="co"># Useful for: Principal diagnosis analysis, following HCUP recommendations</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="id_3-working-with-procedure-codes">3. Working with Procedure Codes<a class="anchor" aria-label="anchor" href="#id_3-working-with-procedure-codes"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download procedure mapping</span></span>
<span><span class="va">pr_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ccsr.html">download_ccsr</a></span><span class="op">(</span><span class="st">"procedure"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create sample procedure data</span></span>
<span><span class="va">procedure_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  case_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  icd10_pcs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0DB60ZZ"</span>, <span class="st">"0DT70ZZ"</span>, <span class="st">"0WQ3XZ"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Map procedure codes</span></span>
<span><span class="va">mapped_procedures</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_map.html">ccsr_map</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">procedure_data</span>,</span>
<span>  code_col <span class="op">=</span> <span class="st">"icd10_pcs"</span>,</span>
<span>  map_df <span class="op">=</span> <span class="va">pr_map</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-accessing-ccsr-descriptions">4. Accessing CCSR Descriptions<a class="anchor" aria-label="anchor" href="#id_4-accessing-ccsr-descriptions"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get descriptions for specific CCSR codes</span></span>
<span><span class="va">ccsr_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADM010"</span>, <span class="st">"NEP003"</span>, <span class="st">"CIR019"</span>, <span class="st">"END001"</span><span class="op">)</span></span>
<span><span class="va">descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_ccsr_description.html">get_ccsr_description</a></span><span class="op">(</span><span class="va">ccsr_codes</span>, map_df <span class="op">=</span> <span class="va">dx_map</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">descriptions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Auto-download if mapping not provided</span></span>
<span><span class="va">descriptions_auto</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_ccsr_description.html">get_ccsr_description</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ADM010"</span>, <span class="st">"NEP003"</span><span class="op">)</span>, </span>
<span>  type <span class="op">=</span> <span class="st">"diagnosis"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_5-downloading-hcup-summary-trend-tables">5. Downloading HCUP Summary Trend Tables<a class="anchor" aria-label="anchor" href="#id_5-downloading-hcup-summary-trend-tables"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all available tables (interactive menu)</span></span>
<span><span class="va">available_tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_trend_tables.html">download_trend_tables</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download a specific table by ID</span></span>
<span><span class="va">table_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_trend_tables.html">download_trend_tables</a></span><span class="op">(</span><span class="st">"2a"</span><span class="op">)</span>  <span class="co"># All inpatient discharges</span></span>
<span></span>
<span><span class="co"># Download all tables as ZIP file (~81 MB)</span></span>
<span><span class="va">all_tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_trend_tables.html">download_trend_tables</a></span><span class="op">(</span><span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_6-reading-downloaded-files">6. Reading Downloaded Files<a class="anchor" aria-label="anchor" href="#id_6-reading-downloaded-files"></a>
</h3>
<p>If you’ve already downloaded files, read them directly:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read CCSR file from various formats</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_ccsr.html">read_ccsr</a></span><span class="op">(</span><span class="st">"path/to/DXCCSR-v2026-1.zip"</span><span class="op">)</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_ccsr.html">read_ccsr</a></span><span class="op">(</span><span class="st">"path/to/DXCCSR_v2026-1.csv"</span><span class="op">)</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_ccsr.html">read_ccsr</a></span><span class="op">(</span><span class="st">"path/to/DXCCSR_v2026-1.xlsx"</span><span class="op">)</span></span>
<span><span class="va">dx_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_ccsr.html">read_ccsr</a></span><span class="op">(</span><span class="st">"path/to/extracted_directory/"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read trend table Excel file</span></span>
<span><span class="va">national_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_trend_table.html">read_trend_table</a></span><span class="op">(</span></span>
<span>  <span class="st">"path/to/HCUP_SummaryTrendTables_T2a.xlsx"</span>,</span>
<span>  sheet <span class="op">=</span> <span class="st">"National"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List available sheets</span></span>
<span><span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/list_trend_table_sheets.html">list_trend_table_sheets</a></span><span class="op">(</span></span>
<span>  <span class="st">"path/to/HCUP_SummaryTrendTables_T2a.xlsx"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read specific state data</span></span>
<span><span class="va">state_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_trend_table.html">read_trend_table</a></span><span class="op">(</span></span>
<span>  <span class="st">"path/to/HCUP_SummaryTrendTables_T2a.xlsx"</span>,</span>
<span>  sheet <span class="op">=</span> <span class="st">"California"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_7-viewing-ccsr-change-logs">7. Viewing CCSR Change Logs<a class="anchor" aria-label="anchor" href="#id_7-viewing-ccsr-change-logs"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get change log as data table (default)</span></span>
<span><span class="va">changelog</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_changelog.html">ccsr_changelog</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"v2026.1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">changelog</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get change log URL</span></span>
<span><span class="va">changelog_url</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_changelog.html">ccsr_changelog</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"v2026.1"</span>, format <span class="op">=</span> <span class="st">"url"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View change log in default PDF viewer</span></span>
<span><span class="fu"><a href="reference/ccsr_changelog.html">ccsr_changelog</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"v2026.1"</span>, format <span class="op">=</span> <span class="st">"view"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download change log file</span></span>
<span><span class="va">changelog_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ccsr_changelog.html">ccsr_changelog</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"v2026.1"</span>, format <span class="op">=</span> <span class="st">"download"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_8-generating-citations">8. Generating Citations<a class="anchor" aria-label="anchor" href="#id_8-generating-citations"></a>
</h3>
<p>Always cite HCUP data properly in publications:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Text citation for CCSR</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Citation for Summary Trend Tables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span>resource <span class="op">=</span> <span class="st">"trend_tables"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># BibTeX format (for LaTeX documents)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"bibtex"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># R citation object (for R markdown)</span></span>
<span><span class="va">citation_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">citation_obj</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="complete-function-reference">Complete Function Reference<a class="anchor" aria-label="anchor" href="#complete-function-reference"></a>
</h2>
<table class="table">
<colgroup>
<col width="43%">
<col width="56%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="reference/download_ccsr.html">download_ccsr()</a></code></td>
<td>Download CCSR mapping files from HCUP website</td>
</tr>
<tr class="even">
<td><code><a href="reference/read_ccsr.html">read_ccsr()</a></code></td>
<td>Read CCSR mapping files from disk (ZIP, CSV, Excel, or directory)</td>
</tr>
<tr class="odd">
<td><code><a href="reference/ccsr_map.html">ccsr_map()</a></code></td>
<td>Map ICD-10 codes to CCSR categories (long/wide/default formats)</td>
</tr>
<tr class="even">
<td><code><a href="reference/get_ccsr_description.html">get_ccsr_description()</a></code></td>
<td>Get clinical descriptions for CCSR codes</td>
</tr>
<tr class="odd">
<td><code><a href="reference/list_ccsr_versions.html">list_ccsr_versions()</a></code></td>
<td>List available CCSR versions</td>
</tr>
<tr class="even">
<td><code><a href="reference/ccsr_changelog.html">ccsr_changelog()</a></code></td>
<td>Get CCSR change log for a specific version</td>
</tr>
<tr class="odd">
<td><code><a href="reference/download_trend_tables.html">download_trend_tables()</a></code></td>
<td>Download HCUP Summary Trend Tables</td>
</tr>
<tr class="even">
<td><code><a href="reference/read_trend_table.html">read_trend_table()</a></code></td>
<td>Read HCUP Summary Trend Table Excel files from disk</td>
</tr>
<tr class="odd">
<td><code><a href="reference/list_trend_table_sheets.html">list_trend_table_sheets()</a></code></td>
<td>List available sheets in a trend table file</td>
</tr>
<tr class="even">
<td><code><a href="reference/hcup_citation.html">hcup_citation()</a></code></td>
<td>Generate citations for HCUP resources (CCSR or Trend Tables)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="important-legal-and-compliance-information">Important Legal and Compliance Information<a class="anchor" aria-label="anchor" href="#important-legal-and-compliance-information"></a>
</h2>
<div class="section level3">
<h3 id="data-usage-compliance">Data Usage Compliance<a class="anchor" aria-label="anchor" href="#data-usage-compliance"></a>
</h3>
<p>This package facilitates access to <strong>publicly available and free</strong> HCUP resources:</p>
<ul>
<li>
<strong>CCSR Mapping Files</strong> - Classification software tools (free download from <a href="https://hcup-us.ahrq.gov/toolssoftware/ccsr/ccs_refined.jsp" class="external-link">HCUP Tools &amp; Software</a>)</li>
<li>
<strong>HCUP Summary Trend Tables</strong> - Aggregated statistical reports (free download from <a href="https://hcup-us.ahrq.gov/reports/trendtables/summarytrendtables.jsp" class="external-link">HCUP Reports</a>)</li>
</ul>
<p><strong>Critical:</strong> This package does <strong>NOT</strong> access any HCUP databases (NIS, KID, SID, NEDS, etc.) that require purchase through the <a href="https://hcup-us.ahrq.gov/tech_assist/centdist.jsp" class="external-link">HCUP Central Distributor</a>. All resources accessed by this package are freely available public tools and reports.</p>
</div>
<div class="section level3">
<h3 id="user-responsibilities">User Responsibilities<a class="anchor" aria-label="anchor" href="#user-responsibilities"></a>
</h3>
<p>Users are responsible for:</p>
<ul>
<li>Understanding and complying with all applicable AHRQ/HCUP data usage policies and restrictions</li>
<li>Verifying the accuracy of results</li>
<li>Citing the appropriate AHRQ/HCUP sources in publications</li>
<li>Ensuring compliance with all HCUP Data Use Agreements (DUAs)</li>
</ul>
</div>
<div class="section level3">
<h3 id="essential-resources">Essential Resources<a class="anchor" aria-label="anchor" href="#essential-resources"></a>
</h3>
<ul>
<li><a href="https://hcup-us.ahrq.gov/tech_assist/dua.jsp" class="external-link">HCUP Data Use Agreement (DUA) Training</a></li>
<li><a href="https://hcup-us.ahrq.gov/team/NationwideDUA.pdf" class="external-link">HCUP Data Use Agreements</a></li>
<li><a href="https://hcup-us.ahrq.gov/db/publishing.jsp" class="external-link">HCUP Publishing Requirements</a></li>
<li><a href="https://hcup-us.ahrq.gov/toolssoftware/ccsr/ccs_refined.jsp" class="external-link">CCSR Overview</a></li>
<li><a href="https://hcup-us.ahrq.gov/reports/trendtables/summarytrendtables.jsp" class="external-link">HCUP Summary Trend Tables</a></li>
<li><a href="https://hcup-us.ahrq.gov/toolssoftware/ccsr/ccs_refined.jsp" class="external-link">HCUP Tools and Software</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h3>
<p><strong>This package is an independent, non-commercial tool developed by a third party.</strong> It is <strong>not affiliated with, endorsed by, or supported by AHRQ or HCUP in any way.</strong> This package is not an official AHRQ or HCUP product. The developers of this package have no relationship with AHRQ or HCUP.</p>
<p>This package is provided “as is” without warranty of any kind. Users are solely responsible for verifying the accuracy of results and ensuring compliance with all applicable HCUP data use policies.</p>
<p>For official HCUP information, visit: <a href="https://hcup-us.ahrq.gov/" class="external-link uri">https://hcup-us.ahrq.gov/</a></p>
</div>
</div>
<div class="section level2">
<h2 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a>
</h2>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<p><strong>Core Dependencies:</strong> - <code>httr2</code>: HTTP requests for downloading files from HCUP website - <code>readr</code>: Reading CSV files with proper encoding - <code>dplyr</code>: Data manipulation and joins - <code>tidyr</code>: Data reshaping (long/wide formats) - <code>tibble</code>: Modern data frame format - <code>rlang</code>: Advanced R programming utilities - <code>xml2</code>: HTML/XML parsing for web scraping</p>
<p><strong>Optional Dependencies:</strong> - <code>readxl</code>: Reading Excel files (for trend tables) - <code>data.table</code>: High-performance data operations (optional) - <code>pdftools</code>: PDF text extraction (for change logs)</p>
</div>
<div class="section level3">
<h3 id="data-handling-features">Data Handling Features<a class="anchor" aria-label="anchor" href="#data-handling-features"></a>
</h3>
<ul>
<li>
<strong>Encoding</strong>: Files are read with UTF-8 encoding to handle special characters correctly</li>
<li>
<strong>Leading Zeros</strong>: ICD-10 codes are preserved as character strings to maintain leading zeros (e.g., “E11.9” not “E11.9”)</li>
<li>
<strong>Caching</strong>: Downloaded files are cached by default to avoid redundant network requests</li>
<li>
<strong>Cross-Classification</strong>: The package handles one-to-many mappings (multiple CCSR categories per ICD-10 code)</li>
<li>
<strong>Version Management</strong>: Automatic detection of latest versions and support for historical versions</li>
</ul>
</div>
<div class="section level3">
<h3 id="performance-considerations">Performance Considerations<a class="anchor" aria-label="anchor" href="#performance-considerations"></a>
</h3>
<ul>
<li>
<strong>Caching</strong>: First download requires internet connection; subsequent calls use cached files</li>
<li>
<strong>Large Files</strong>: CCSR mapping files are ~75,000 rows; Summary Trend Tables can be large Excel files</li>
<li>
<strong>Memory</strong>: All data is loaded into memory as tibbles; consider <code>data.table</code> option for very large datasets</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research, please cite both the package and the HCUP data:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Package citation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"HCUPtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># CCSR data citation (automatically formatted)</span></span>
<span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summary Trend Tables citation</span></span>
<span><span class="fu"><a href="reference/hcup_citation.html">hcup_citation</a></span><span class="op">(</span>resource <span class="op">=</span> <span class="st">"trend_tables"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please feel free to:</p>
<ul>
<li>Submit issues and bug reports</li>
<li>Propose new features</li>
<li>Submit pull requests</li>
<li>Improve documentation</li>
</ul>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<ul>
<li>
<strong>AHRQ/HCUP</strong>: For providing the CCSR classification tool and making it publicly available</li>
<li>
<strong>R Community</strong>: For the excellent tools and packages that make this work possible</li>
</ul>
</div>
<div class="section level2">
<h2 id="contact">Contact<a class="anchor" aria-label="anchor" href="#contact"></a>
</h2>
<ul>
<li>
<strong>Package Maintainer</strong>: Vikrant Dev Rathore</li>
<li>
<strong>Email</strong>: <a href="mailto:rathore.vikrant@gmail.com" class="email">rathore.vikrant@gmail.com</a>
</li>
<li>
<strong>GitHub</strong>: <a href="https://github.com/vikrant31/HCUPtools" class="external-link">vikrant31/HCUPtools</a>
</li>
<li>
<strong>Issues</strong>: <a href="https://github.com/vikrant31/HCUPtools/issues" class="external-link">GitHub Issues</a>
</li>
</ul>
<hr>
<p><strong>Note</strong>: This package is under active development. Features and function signatures may change in future versions. For the most up-to-date information, please visit the <a href="https://github.com/vikrant31/HCUPtools" class="external-link">GitHub repository</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/vikrant31/HCUPtools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/vikrant31/HCUPtools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing HCUPtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Vikrant Dev Rathore <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vikrant Dev Rathore.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
